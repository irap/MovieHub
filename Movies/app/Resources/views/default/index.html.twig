{% extends 'base.html.twig' %}

{% block content %}
<div class="container-fluid">

<div class="col-xs-4">
<h4>Available movies</h4>
<div class="container-fluid">
<div class="col-xs-12 ">
  <form role="form">
    <label class="radio-inline">
      <a href="{{ path('uek_homepage') }}"><input type="radio" name="genre_0" {% if selected_id == 0 %}checked{% endif %}></a>All genres
    </label>
    {% for genre in genres %}
    <label class="radio-inline">
      <a href="{{ path('uek_filter_by_genre', {'id': genre.getId()}) }}"><input type="radio" name="genre_{{ genre.getId() }}" {% if selected_id == genre.getId() %}checked{% endif %}></a>{{ genre.getName() }}
    </label>
    {% endfor %}
  </form>
</div>  
</div>  
  
{% for movie in movies %}
	<li class="media">
		<div class="media-left">
			<a href="{{ path('uek_movie', {'id': movie.getId()}) }}">
				<img class="media-object" width="118" height="152" src="{{ movie.getCoverArt() }}" alt="">
			</a> 
		</div>
		<div class="media-body">
		<a href="{{ path('uek_movie', {'id': movie.getId()}) }}">
		<h4 class="media-heading">{{ movie.getTitle() }}</h4>
		</a>
		<p><b>Genre: </b>{{ movie.getGenresNames() }}</p>
		<p><small>reviewed: {{ movie.getReviewNumber() }}  borrowed: {{ movie.getPaidOrderNumber() }}</small></p> 
		</div>
	</li>
{% endfor %}
</div>

<div class="col-xs-3">
<h4>Popular movies</h4>
<ul>
{% for movie in mostBorrowedMovies %}
<li><a href="{{ path('uek_movie', {'id': movie.getId()}) }}">{{ movie.getTitle() }} ({{ movie.getOrderNumber() }})</a></li>
{% endfor %}
</ul>
</div>

<div class="col-xs-3">
<h4>Most-reviewed films</h4>
<ul>
{% for movie in mostReviewedMovies %}
<li><a href="{{ path('uek_movie', {'id': movie.getId()}) }}">{{ movie.getTitle() }} ({{ movie.getReviewNumber() }})</a></li>
{% endfor %}
</ul>
</div>
{% endblock %}


